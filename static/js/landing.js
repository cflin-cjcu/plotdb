$(document).ready(function(){var t,e,n,r,i,a,o,l,c,u,d;for(e=[],n=0;400>n;++n)r=n,e.push({value:Math.random()});return t=e,i=document.getElementById("landing-svg").parentNode.getBoundingClientRect(),a=d3.select("#landing-svg").attr({width:"100%",height:"100%",viewBox:[0,0,i.width,i.height].join(" "),preserveAspectRatio:"xMidYMid"}).style({top:0,left:0}),o=d3.scale.ordinal().range(["#1d3263","#226c87","#f8d672","#e48e11","#e03215","#ab2321"]),l=d3.layout.force().size([i.width,i.height]).gravity(.08).charge(-300).friction(.5),l.nodes(t),c=a.selectAll("circle").data(t).enter().append("circle").attr({filter:function(t){var e;return e=parseInt(4*(1-t.value)),console.log(e),e?"url(#blur"+e+")":""}}),u=1,d=function(){var e,n,r,a,d,h,g;for(e=0,r=(n=t).length;r>e;++e)a=n[e],d=i.width/2-a.x,h=i.height/2-a.y,g=Math.sqrt(Math.pow(d,2)+Math.pow(h,2)),g>0&&(d=u*d/g,h=u*-h/g,a.x+=h,a.y+=d);return c.attr({cx:function(t){return t.x},cy:function(t){return t.y},r:function(t){return 7*t.value+3},fill:function(t){return o(t.value)},opacity:function(t){var e;return e=(t.y-.5*i.height)/(.5*i.height),0>e?.8:.8-.8*e}}),l.alpha()<.015&&l.alpha(.03),u=.994*u,.2>u?u=.2:void 0},l.on("tick",d),l.start()});