$(document).ready(function(){var dispatcher,snapshot,render;return dispatcher=function(t){return"snapshot"===t.data.type?snapshot():"render"===t.data.type?render(t.data.payload):void 0},snapshot=function(){var t,e,o;return t=document.createElement("canvas"),document.body.appendChild(t),e=document.getElementById("container").innerHTML,canvg(t,e),o=t.toDataURL(),window.parent.postMessage({type:"snapshot",payload:o},"http://localhost/")},render=function(payload){var code,style,doc,data,config,root,chart,k,ref$,v,e,lines;code=payload.code.content,style=payload.style.content,doc=payload.doc.content,data=payload.data,config=payload.config||{};try{$(document.body).html("<style type='text/css'>"+style+"</style><div id='container'>"+doc+"</div>"),window.module={},eval(code),root=document.getElementById("container"),chart=module.exports;for(k in ref$=chart.config)v=ref$[k],config[k]=null==config[k]||null==config[k].value?v["default"]:config[k].value;for(k in config)v=config[k],/^[0-9.+-]+$/.exec(v)&&(config[k]=parseFloat(v));return chart.init&&chart.init(root,data,config),chart.bind(root,data,config),chart.resize(root,data,config),chart.render(root,data,config),window.parent.postMessage({type:"error",payload:""},"http://localhost/")}catch(e$){return e=e$,payload=e?typeof e!=typeof{}?e+"":e.stack?e.stack:e.toString():"plot failed with unknown error",payload.length>1024&&(payload=payload.substring(0,1024)+"..."),lines=payload.split("\n"),lines.length>4&&(payload=lines.splice(0,4).join("\n")),window.parent.postMessage({type:"error",payload:payload},"http://localhost/")}},window.addEventListener("message",dispatcher,!1),window.addEventListener("keydown",function(t){return!t.metaKey&&!t.altKey||13!==t.keyCode&&13!==t.which?void 0:window.parent.postMessage({type:"alt-enter"},"http://localhost/")})});