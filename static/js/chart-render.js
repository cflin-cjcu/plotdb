$(document).ready(function(){var dispatcher,snapshot,render;return dispatcher=function(t){return"snapshot"===t.data.type?snapshot():"render"===t.data.type?render(t.data.payload):void 0},snapshot=function(){var t,e,o;return t=document.createElement("canvas"),document.body.appendChild(t),e=document.getElementById("container").innerHTML,canvg(t,e),o=t.toDataURL(),window.parent.postMessage({type:"snapshot",payload:o},"http://localhost/")},render=function(payload){var code,style,doc,data,config,root,chart,k,ref$,v;code=payload.code.content,style=payload.style.content,doc=payload.doc.content,data=payload.data,config=payload.config||{},$(document.body).html("<style type='text/css'>"+style+"</style><div id='container'>"+doc+"</div>"),window.module={},eval(code),root=document.getElementById("container"),chart=module.exports;for(k in ref$=chart.config)v=ref$[k],config[k]=null==config[k]||null==config[k].value?v["default"]:config[k].value;for(k in config)v=config[k],/^[0-9.+-]+$/.exec(v)&&(config[k]=parseFloat(v));return chart.init&&chart.init(root,data,config),chart.bind(root,data,config),chart.resize(root,data,config),chart.render(root,data,config)},window.addEventListener("message",dispatcher,!1)});