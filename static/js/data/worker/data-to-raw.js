// Generated by LiveScript 1.3.1
var dataToRaw;
dataToRaw = function(e){
  var data, h, list, lastidx, i$, to$, i, row, ret;
  data = e.data;
  h = data.headers;
  list = [];
  lastidx = 0;
  for (i$ = 0, to$ = data.rows.length; i$ < to$; ++i$) {
    i = i$;
    row = data.rows[i];
    if (row.join('')) {
      lastidx = i;
    }
    list.push(h.map(fn$).join(','));
  }
  list.splice(lastidx + 1);
  ret = [data.headers.join(','), list.join('\n')].join('\n');
  return ret;
  function fn$(d, i){
    var it;
    it = row[i];
    if (!it) {
      return it;
    }
    if (it.replace) {
      it = it.replace(/"/g, '""');
    }
    if (/[ ,\n\t]/.exec(it)) {
      it = "\"" + it + "\"";
    }
    return it;
  }
};