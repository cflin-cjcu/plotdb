<!DOCTYPE html><html lang="en"><head prefix="og: http://ogp.me/ns#"><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"><meta name="Description" content="Create, share and request visualizations online."><title>PlotDB: Share Visualizations with Everyone</title><meta property="og:locale" content="zh_TW"><meta property="og:image" content="//plotdb.com/assets/img/thumbnail.png"><meta property="og:image:type" content="image/png"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><meta property="og:type" content="website"><meta property="og:url" content="https://plotdb.com/"><meta property="og:title" content="PlotDB: Share Visualizations with Everyone"><meta property="og:description" content="Create, share and request visualizations online."><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@plotdb"><meta name="twitter:creator" content="@plotdb"><meta name="twitter:title" content="PlotDB: Share Visualizations with Everyone"><meta name="twitter:description" content="Create, share and request visualizations online."><meta name="twitter:image" content="//plotdb.com/assets/img/thumbnail.png"><link rel="icon" type="image/x-icon" href="/assets/img/favicon-16.png"><link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Lato:300,400,700|Open+Sans+Condensed:300,700"><link rel="stylesheet" type="text/css" href="/css/pack/frameworks.css?49"><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-77722201-1', 'auto');
ga('send', 'pageview');</script><script src="/js/pack/frameworks.js?49"></script><script type="text/javascript" src="/global"></script><script type="text/javascript" src="/js/pack/base.js?49"></script></head><body id="" ng-app="plotDB" ng-controller="plSite" data-spy="scroll" data-target=".scrollspy"><div id="beta-ribbon"></div><div id="confirmbox"><div ng-show="confirmbox.toggled" ng-cloak class="cover-modal ng-hide-animate ng-hide"></div><div ng-show="confirmbox.toggled" ng-cloak class="cover-modal-inner ng-hide-animate ng-hide"><div class="panel panel-default"><div class="panel-body"><h3 ng-show="confirmbox.config.title">{{confirmbox.config.title}}</h3><p>{{confirmbox.config.message}}</p><div ng-repeat="option in confirmbox.config.options" ng-click="confirmbox.handle($index)" class="btn btn-default">{{option}}</div></div></div></div></div><div id="loading-dimmer" ng-class="{'active':loading.dimmer, 'show-progress':loading.progress}"><div class="progress"><div aria-valuemin="0" aria-valuemax="100" ng-attr-style="width:{{loading.progress}}%" class="progress-bar progress-bar-striped active"></div></div></div><div style="height:0">&nbsp;</div><div id="nav-top"><nav role="navigation" class="navbar navbar-default"><div class="container-fluid"><div class="navbar-header"><a href="/" class="navbar-brand"><img src="/assets/img/plotdb.png" style="height:100%"></a></div><div ng-cloak><ul class="nav navbar-nav pull-left"><li id="nav-chart" class="dropdown"><a href="#" data-toggle="dropdown" class="dropdown-toggle"><i class="fa fa-bar-chart"></i><span class="name">&nbsp;{{'CHART'|i18n}}</span><span class="caret"></span></a><ul class="dropdown-menu"><li><a href="/chart/explore/">{{'Explore'|i18n}}</a></li><li ng-show="user.data" ng-cloak><a href="/chart/me">{{'My Charts'|i18n}}</a></li><li class="divider"></li><li><a href="/chart/">{{'from scratch'|i18n}}</a></li></ul></li><li id="nav-dataset" class="dropdown"><a href="#" data-toggle="dropdown" class="dropdown-toggle"><i class="fa fa-table"></i><span class="name">&nbsp;{{'DATASET'|i18n}}</span><span class="caret"></span></a><ul class="dropdown-menu"><li><a href="/dataset/me/" ng-show="user.data">{{'My Datasets'|i18n}}</a></li><li class="divider"></li><li><a href="/dataset/">{{'New Dataset'|i18n}}</a></li></ul></li><li id="nav-collection"><a href="/collection/">{{'COLLECTION'|i18n}}</a></li><li id="nav-palette"><a href="/palette/editor.html"><img src="/assets/img/palette2.svg" style="vertical-align:text-top;width:14px;margin-top:2px;"><span class="name">&nbsp;{{'PALETTE'|i18n}}</span><!--li: a(href="/palette/editor.html",ng-cloak,ng-show="user.data") Advanced Editor--></a></li><li id="nav-showcase"><a href="/showcase/" ng-cloak><span class="name">&nbsp;{{'SHOWCASE'|i18n}}</span></a></li></ul><ul class="nav navbar-nav pull-right"><!--li#nav-request: a(href="/request/")i.fa.fa-comment
| &nbsp;
span: small Request a Chart--><li id="nav-lang" class="dropdown"><a data-toggle="dropdown"><i class="fa fa-globe"></i> {{lang|i18n}}<span class="caret"></span></a><ul class="dropdown-menu"><li ng-click="setLang('zh')" ng-class="{'active':lang=='zh'}"><a href="#">中文</a></li><li ng-click="setLang('en')" ng-class="{'active':lang=='en'}"><a href="#">English</a></li></ul></li><li id="nav-pricing"><a href="/pricing/">{{'Pricing'|i18n}}</a></li><li ng-cloak ng-show="!user.data"><a id="nav-login" href="#" ng-click="auth.show = !!!auth.show"><i class="fa fa-sign-in"></i>&nbsp; <span>{{'LOGIN / SIGNUP'|i18n}}</span></a></li><li id="nav-profile" ng-cloak ng-show="user.data" class="dropdown"><div data-toggle="dropdown" class="btn icon"><div ng-attr-style="background-image:url(/s/avatar/{{user.data.avatar || '0'}}.jpg)" class="avatar"></div><span class="caret"></span></div><ul class="dropdown-menu"><li ng-show="user.data" ng-cloak><a href="/user/{{user.data.key}}"><b style="vertical-align:middle">{{user.data.displayname}}&nbsp;</b><label ng-show="!user.data.payment.plan" class="label label-default">Free</label><label ng-show="user.data.payment.plan==1" class="label label-info">Basic</label><label ng-show="user.data.payment.plan==2" class="label label-info">Expert</label></a></li><li class="divider"></li><li><a href="#"><label class="grayed">{{'Storage Usage'|i18n}}</label><div style="width:120px;margin:0" class="progress"><div ng-class="{'progress-bar-info': ((user.data.datasize || 0) / 100000 &lt; 50), 'progress-bar-warning': ((user.data.datasize || 0) / 100000 &gt; 50)}" ng-attr-style="width:{{(user.data.datasize || 0)/ 100000}}%" class="progress-bar progress-bar-info"><span ng-cloak>{{user.data.datasize|size}}</span></div></div></a></li><li class="divider"></li><li><a href="/team/">{{'Teams'|i18n}}</a></li><li><a href="/me/edit/">{{'Settings'|i18n}}</a></li><li><a href="/me/billing/">{{'Billing'|i18n}}</a></li><li class="divider"></li><li><a href="#" ng-click="auth.logout()">{{'Logout'|i18n}}</a></li></ul></li></ul></div></div></nav></div><div id="authpanel" class="modal fade"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><div data-dismiss="modal" style="border-radius:50%;background:#222;" class="closebtn"></div><h4 class="modal-title text-center">Login to PlotDB</h4></div><div style="padding:20px" class="moda-body"><form class="form"><div ng-class="{'has-error':auth.error.email,'has-feedback':auth.error.email}" class="form-group"><input type="text" placeholder="Email" ng-model="auth.email" ng-keypress="auth.keyHandler($event)" class="form-control"><div ng-show="auth.error.email" class="form-control-feedback with-text">{{auth.error.email}} <i class="fa fa-close"></i></div></div><div ng-class="{'has-error':auth.error.passwd,'has-feedback':auth.error.passwd}" class="form-group"><input type="password" placeholder="Password" ng-model="auth.passwd" ng-keypress="auth.keyHandler($event)" class="form-control"><div ng-show="auth.error.passwd" class="form-control-feedback with-text">{{auth.error.passwd}} <i class="fa fa-close"></i></div></div><div ng-click="auth.login()" ng-cloak ng-class="{'loading':auth.loading}" class="btn btn-block btn-success btn-lg loader loading-success"><span ng-show="!auth.isSignIn">SIGNUP</span><span ng-show="auth.isSignIn">LOGIN</span></div><a href="/auth/reset/" style="margin-top:12px;font-size:12px;" class="pull-right">forgot password? &#xbb;</a><div class="checkbox"><label><input type="checkbox"> remember me</label></div></form><div style="position:relative"><hr><div ng-show="auth.failed" ng-cloak class="error">{{auth.failed}}</div><div ng-show="auth.succeed" ng-cloak class="success">{{auth.succeed}}</div></div><div id="authpanel-social-login" class="row"><div class="col-xs-6"><a ng-attr-href="/u/auth/facebook?nexturl={{nexturl}}" target="_blank" style="font-size:12px" class="btn btn-default btn-block"><i class="fa fa-facebook-official"></i><span>Sign in</span></a></div><div class="col-xs-6"><a ng-attr-href="/u/auth/google?nexturl={{nexturl}}" target="_blank" style="font-size:12px" href="#" class="btn btn-default btn-block"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="18px" height="18px" viewBox="0 0 48 48"><g><path fill="#EA4335" d="M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"></path><path fill="#4285F4" d="M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"></path><path fill="#FBBC05" d="M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"></path><path fill="#34A853" d="M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"></path><path fill="none" d="M0 0h48v48H0z"></path></g></svg><span>Sign in</span></a></div></div></div><div ng-cloak class="modal-footer text-center"><span ng-show="auth.isSignIn">Newcomer here? <a href="#" ng-click="auth.isSignIn=false">Sign up &#xbb;</a></span><span ng-show="!auth.isSignIn">Already a member? <a href="#" ng-click="auth.isSignIn=true">Sign In &#xbb;</a></span></div></div></div></div><div id="notifications"><div ng-repeat="n in notifications" ng-class="'notify-'+n.type" ng-cloak class="notify animated rubberBand">{{n.message}}</div></div><div id="alertbox" ng-cloak ng-show="alert.toggled"><div class="ib"><br><div ng-cloak class="text-center">{{alert.msg}}</div><div class="footer"><div ng-click="alert.toggled=false" class="btn btn-default btn-sm">OK</div></div></div></div><link rel="stylesheet" type="text/css" href="/css/render/pdb.css"><script type="text/javascript" src="/js/pack/view.js"></script><script type="text/javascript" src="/lib/plotd3/0.1.0/index.js"></script><style type="text/css">html,body {background: #fff!important}</style><div id="root" class="doc-root"><div class="doc-content"><div class="row"><div class="col-sm-9"><p>PlotDB is a platform for developers to create reusable visualization for people who cannot code. To do this, a visualization is split into following parts:</p>

<ul><li>data bindings / mapping between data fields and visual encoding</li><li>configurations / chart settings, colors, labels, etc</li><li>sources ( code, stylesheet and document )</li><li>assets</li></ul>

<p>These parts are well-defined in a JSON-style structure; by proper defining dimensions and configurations of a visualization, these options can then be configured by people through PlotDB's online visualization editor.</p>

<p>Furthermore, a visualization can also be accessed via programmable interface; instead of using online editor, we can pass data, configurations or even firing event to the visualization others created through PlotDB's rendering API.</p>

<h3>Write Your Own Viswork</h3>

<p>Visualizations in PlotDB are organized in a JSON-style structure, so you can simply create one from scratch if you want. Yet, <a href="https://plotdb.com/chart/">PlotDB Online Editor</a> does the most redundant work for us, so we can focus on the most important part.</p>

<p>A viswork is composed of following parts:</p>

<ul><li>source code (JavaScript)</li><li>stylesheet (CSS)</li><li>document (HTML)</li><li>assets (images, geojson, etc)</li></ul>

<h4>Source Code</h4>

<p>A simple PlotDB JSON Source will be like this:</p>

<pre><code>{
  sample: function() { ... },
  dimension: { ... },
  config: { ... },
  init: function() { ... },
  parse: function() { ... },
  bind: function() { ... },
  resize: function() { ... },
  render: function() { ... }
}</code></pre>

<h3>Programmable Control</h3>

<p>Visualization in PlotDB can be used by downloading images or through iframe embedding, but either way has its own limitation:</p>

<ul><li>png / svg download - interactivity is lost</li><li>iframe embedding - must have internet access; visualization cannot interact with host document</li></ul>

<p>Sometimes we need inline these visualizations, and this can be done by PlotDB Renderer API. The simplest way to use a PlotDB Renderer API will be like this:</p>

<pre><code>plotdb.load(953, function(chart) {
  chart.attach(document.body);
});</code></pre>

<p>This renders visualization with online id '953' ( i.e., https://plotdb.io/v/chart/953 ) into document.body, which is a line chart. This still requests charts from PlotDB, to use an offline version we have to download the PlotDB JSON of that chart first, and load the JSON file by its URL. For example, by download chart 953 to "http://localhost/953.json":</p>

<pre><code>plotdb.load(&quot;http://localhost/953.json&quot;, function(chart) {
  chart.attach(document.body);
});</code></pre>

<p>We can further control the loaded chart instance with a bunch of API PlotDB provided:</p>

<ul><li>chart.data   - apply data upon this chart</li><li>chart.config - update configuration</li><li>chart.init, chart.parse, chart.resize, chart.bind, chart.render - these functions invoke their counter part inside PlotDB JSON.</li><li>chart.attach(node) - set root element of this chart and render immediately</li></ul>

<h3>Theme Customization</h3>

<p>PlotDB also provides a mechanism to make collection of configuration called "theme" to let these configurations also reusable.</p>

<hr/>

<h2>PlotDB Renderer Interface</h2>

<p>Once you create your visualization with PlotDB editor, you can download its corresponding PlotDB.json and render it in any website programmatically. Via PlotDB API, you can update its configuration, data or even render into multiple containers simultaneously.</p>

<p>Once you download the PlotDB.json, first load it with following code snippet:</p>

<pre><code>plotdb.load(&quot;http://path-to-your-plotdb-json&quot;, function(chart) {
    ....
});</code></pre>

<p>the returned chart object has following methods:</p>

<h3>clone()</h3>

<p>Make a copy of this chart. If you need multiple instance of this chart to render different data, you can use <code>clone()</code> to make multiple copies of the chart object, and render them to different containers respectively.</p>

<h3>data(objArray, refresh, mapping)</h3>

<p>Bind data with this chart. <code>data()</code> accepts an object array as the 1st parameter <code>objArray</code>, such as:</p>

<pre><code>[{name: &quot;Apple&quot;, price: 10}, {name: &quot;Pen&quot;, price: 5}, ...]</code></pre>

<p>this parameter will be bound to the visual encodings of this chart by the schema we defined in the 3rd parameter <code>mapping</code>. <code>mapping</code> indicates which fields in the <code>objArray</code> should be mapped to which encoding, for example, following mapping maps field <code>name</code> to encoding <code>color</code>, and field <code>price</code> to encoding <code>size</code>:</p>

<pre><code>{
  color: [&quot;name&quot;],
  size: [&quot;price&quot;]
}</code></pre>

<p>Some chart accepts multiple fields in one encoding, such as line chart or stacked bar chat; specify multiple fields in corresponding array to bind multiple fields to a encoding, for example:</p>

<pre><code>{
  name: [&quot;name&quot;],
  value: [&quot;price-2016&quot;, &quot;price-2015&quot;] 
}</code></pre>

<p>After data binding we need to redraw the chart. You can invoke related functions by yourself or set the 2nd parameter <code>refresh</code> to true to let PlotDB to do it for you.</p>

<p>Every chart uses different visual encoding, check the <code>dimension</code> section in the code for the name of each encodings and the data type they expect. For example, following is a typical dimension section:</p>

<pre><code>...
dimension: {
  value: { type: [plotdb.Number], multiple: true, require: true, desc: &quot;y axis value&quot; },
  order: { type: [plotdb.Order], require: false, desc: &quot;x axis index&quot; },
},
...</code></pre>

<p>With above code we have 2 dimensions: <code>value</code> and <code>order</code>. <code>value</code> accepts multiple fields with number data type and is required, <code>order</code> accepts single field with ordinal data type, and is optional.</p>

<h3>config(configObject)</h3>

<p>Update configurations of this chart. <code>configObject</code> is a Javascript object containing configurations to update; for example, to set font family of this chart:</p>

<pre><code>chart.config(
  {
    fontFamily: &quot;Tahoma&quot;
  }
);</code></pre>

<p>Configurations can be number, string of even object, depending on the design of this chart. Following example updates this chart with a new palette object and disable popup:</p>

<pre><code>chart.config(
  {
    palette: {colors: [{hex: &quot;#ff0000&quot;, &quot;#00ff00&quot;}],
    popupShow: false
  }
)</code></pre>

<p>Every chart has different configurations, check the <code>config</code> section in the code for a list of the configuration available for your chart.</p>

<p>Be sure to invoke <code>resize()</code> and <code>render()</code> after updating configurations. If you change a configuration with <code>rebindOnChange</code> being true, you should also invoke <code>bind()</code> before calling <code>resize()</code>:</p>

<pre><code>chart.config({...});
chart.bind();
chart.resize();
chart.render();</code></pre>

<h3>attach(htmlNode)</h3>

<p>connect this chart with specific htmlNode. This will also render the chart into it. htmlNode should be a DOM element, so if you use jQuery to retrieve a node, pull its native DOM element out of the jQuery object at first:</p>

<pre><code>chart.attach($(&quot;#some-node&quot;)[0]);</code></pre>

<p>PlotDB listens to window resize event to update chart, so if you adjust the dimension of the htmlNode programmatically, be sure to invoke <code>resize()</code> and <code>render()</code> to reflect the change to your chart.</p>

<h3>init()</h3>

<p>Initialize this chart. <code>attach()</code> will call <code>init()</code> so usually we dont have to call it manually.</p>

<h3>parse()</h3>

<p>Parse data before use in this chart. <code>attach()</code> will call <code>parse()</code> so usually we dont have to call it manually.</p>

<h3>bind()</h3>

<p>Bind data to DOM element. <code>attach()</code> will call <code>bind()</code> so usually we dont have to call it manually.</p>

<h3>resize()</h3>

<p>Update according to change in dimensions of container. PlotDB listens to window resize event and invoke <code>resize()</code> automatically, so if you manually change the dimension of container, you should also call <code>resize()</code> afterward.</p>

<h3>render()</h3>

<p>Render this chart. This should be called every time a chart needs update, for eaxmple, after <code>resize()</code> being called.</p>

<h3>Sample Usage</h3>

<p>loads a chart and render it into two containers:</p>

<pre><code>plotdb.load(&#39;...&#39;, function(chart) {
  var chart2 = chart.clone();
  chart.attach(document.getElemenetById(&quot;container1&quot;));
  chart2.attach(document.getElemenetById(&quot;container2&quot;));
});</code></pre>

<p>update chart after resizing a container:</p>

<pre><code>plotdb.load(&#39;...&#39;, function(chart) {
  var node = document.getElementById(&quot;container&quot;);
  chart.attach(node);
  node.style.width = &quot;500px&quot;;
  chart.resize();
  chart.render();
});</code></pre>

<h3>JSONP Style Chart Loading</h3>

<p>Ajax and callback can sometimes be cumbersome, instead we could use JSONP style chart loading. To do so, first add the whole PlotDB.json with <code>plotdb.chart.add</code> and a proper name:</p>

<pre><code>plotdb.chart.add(&quot;my-chart&quot;, {... the PlotDB.json ...});</code></pre>

<p>you can save the above code as a standalone js file, and load it with script tag after plotdb.js is loaded. to get an instance of the chart, use <code>plotdb.chart.get</code>:</p>

<pre><code>var chart = plotdb.chart.get(&quot;my-chart&quot;);</code></pre>

<p>it returns the chart object like the one <code>plotdb.load</code> passes into the callback function.</p><div id="disqus_thread"></div></div><div class="col-sm-3 scrollspy"><ul id="affix" data-spy="affix" class="nav hidden-xs hidden-sm"><ul class="nav subnav"><li><a href="#null">Write Your Own Viswork</a></li><li><a href="#null">Programmable Control</a></li><li><a href="#null">Theme Customization</a></li></ul></ul><li><a href="#null">PlotDB Renderer Interface &#xbb;</a><ul class="nav subnav"><li><a href="#null">clone()</a></li><li><a href="#null">data(objArray, refresh, mapping)</a></li><li><a href="#null">config(configObject)</a></li><li><a href="#null">attach(htmlNode)</a></li><li><a href="#null">init()</a></li><li><a href="#null">parse()</a></li><li><a href="#null">bind()</a></li><li><a href="#null">resize()</a></li><li><a href="#null">render()</a></li><li><a href="#null">Sample Usage</a></li><li><a href="#null">JSONP Style Chart Loading</a></li></ul></li></div></div></div></div><script>$('#affix').affix({ offset: { top: $('#affix').offset().top - 100} });
</script><script>var disqus_config = function () {
this.page.url = "https://plotdb.com/doc/"; /* TODO */
this.page.identifier = "/doc/"; /* PAGE IDENTIFIER */
};
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = '//plotdb.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();</script><div id="user-feedback" ng-click="gfbt.toggle()"><i class="fa fa-commenting"></i><span ng-cloak>{{'send feedback'|i18n}}</span></div><div ng-cloak ng-show="gfbt.toggled" ng-click="gfbt.toggle(false)" class="cover-modal"></div><div ng-cloak ng-show="gfbt.toggled" class="cover-modal-inner centered"><div style="height:100%" class="panel panel-default"><div style="height:100%;overflow-y:scroll;padding-bottom:50px" class="panel-body"><div ng-click="gfbt.toggle(false)" class="closebtn inner inverse lg"></div><div data-href="http://plotdb.com/feedback/" data-width="100%" data-numposts="5" data-colorscheme="light" class="fb-comments"></div></div><div style="position:absolute;bottom:0;left:0;width:100%;z-index:1" class="panel-footer text-right"><div ng-click="gfbt.toggle(false)" class="btn btn-default">{{'Close'|i18n}}</div></div></div></div><div id="fb-root"></div><script>window.fbAsyncInit = function() {
  FB.init({
    appId      : '1546734828988373',
    xfbml      : true,
    version    : 'v2.5'
  });
  var i,list = (window.fbQueue || []);
  for(i=0;i<list.length;i++) window.fbQueue[i]();
};
window.onload = function() {
  (function(d, s, id){
     var js, fjs = d.getElementsByTagName(s)[0];
     if (d.getElementById(id)) {return;}
     js = d.createElement(s); js.id = id;
     js.src = "//connect.facebook.net/en_US/sdk.js";
     fjs.parentNode.insertBefore(js, fjs);
   }(document, 'script', 'facebook-jssdk'));
};</script></body></html>