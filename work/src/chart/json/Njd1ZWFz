{"theme":null,"config":{"padding":{"name":"Padding","type":[{"name":"Number","level":3}],"default":10,"rebindOnChange":true,"value":10},"palette":{"name":"Palette","type":[{"name":"Palette","level":5,"re":{},"default":{"colors":[{"hex":"#1d3263"},{"hex":"#226c87"},{"hex":"#f8d672"},{"hex":"#e48e11"},{"hex":"#e03215"},{"hex":"#ab2321"}]},"plotdb":{"colors":[{"hex":"#ed1d78"},{"hex":"#c59b6d"},{"hex":"#8cc63f"},{"hex":"#28aae2"}]}}],"default":{"colors":[{"hex":"#1d3263"},{"hex":"#226c87"},{"hex":"#f8d672"},{"hex":"#e48e11"},{"hex":"#e03215"},{"hex":"#ab2321"}]},"value":{"colors":[{"hex":"#1d3263"},{"hex":"#226c87"},{"hex":"#f8d672"},{"hex":"#e48e11"},{"hex":"#e03215"},{"hex":"#ab2321"}]}}},"dimension":{"value":{"type":[{"name":"Number","level":3}],"require":true,"desc":"size of circle"},"name":{"type":[],"require":false,"desc":"tag of circle"},"category":{"type":[],"require":false,"desc":"category of circle"}},"data":[],"type":{"location":"server","name":"chart"},"owner":"o3tgs6","key":"67ueas","permission":{"switch":["public"],"value":[{"switch":"public","perm":"fork"}]},"name":"Bubble Chart","desc":"a standard bubble chart","tags":[""],"doc":{"name":"document","type":"html","content":"<h3>D3.js Pack Layout Example</h3>","lines":1,"size":34},"style":{"name":"stylesheet","type":"css","content":" \nsvg, body {\n}\nsvg, body, text {\n  font-family: arial;\n  color: #222;\n  fill: #222;\n  font-size: 12px;\n}\ntext {\n  text-anchor: middle;\n  dominant-baseline: central;\n}\ncircle, rect, path {\n  fill: #eee;\n  stroke: #555;\n  stroke-width: 2;\n}\nh3 {\n  text-align: center;\n  font-family: Arial;\n}","lines":22,"size":290},"code":{"name":"code","type":"javascript","content":"var module = {};\nmodule.exports = plotdb.chart.create({\n  sample: [\n    {value: 3, name: \"Allen\", category: \"RD\"},\n    {value: 1, name: \"Bob\", category: \"IT\"},\n    {value: 4, name: \"Cindy\", category: \"FIN\"},\n    {value: 1, name: \"David\", category: \"FIN\"},\n    {value: 5, name: \"Eva\", category: \"GM\"},\n    {value: 9, name: \"Frank\", category: \"SALES\"},\n    {value: 2, name: \"Gill\", category: \"IT\"},\n    {value: 6, name: \"Hilbert\", category: \"RD\"},\n    {value: 7, name: \"James\", category: \"RD\"}\n  ],\n  dimension: {\n    value: { type: [plotdb.Number], require: true, desc: \"size of circle\" },\n    name: { type: [], require: false, desc: \"tag of circle\" },\n    category: { type: [], require: false, desc: \"category of circle\"}\n  },\n  config: {\n    padding: { name: \"Padding\", type: [plotdb.Number], default: 10, rebindOnChange: true },\n    palette: { name: \"Palette\", type: [plotdb.Palette], default: plotdb.Palette.default }\n  },\n  init: function() {\n    this.svg = d3.select(this.root).append(\"svg\");\n  },\n  bind: function() {\n    this.resize();\n    this.circles = this.svg.selectAll(\"circle\").data(this.nodes);\n    this.circles.enter().append(\"circle\");\n    this.names = this.svg.selectAll(\"text.title\").data(this.nodes);\n    this.names.enter().append(\"text\").attr({class: \"title\"});\n    this.categories = this.svg.selectAll(\"text.desc\").data(this.nodes);\n    this.categories.enter().append(\"text\").attr({class: \"desc\"});\n  },\n  resize: function() {\n    var box = this.root.getBoundingClientRect();\n    var width = box.width;\n    var height = box.height - 100;\n    this.svg.attr({\n      width: width + \"px\", height: height + \"px\",\n      viewBox: [0,0,width,height].join(\" \"),\n      preserveAspectRatio: \"xMidYMid\"\n    });\n    this.bubble = d3.layout.pack().padding(this.config.padding).size([width,height]);\n    this.nodes = this.bubble.nodes({children: this.data}).filter(function(it) { return it.depth; });\n    this.colors = d3.scale.ordinal().range(\n      this.config.palette.colors.map(function(it) { return it.hex; })\n    );\n  },\n  render: function() {\n    var that = this;\n    this.circles.attr({\n      cx: function(it) { return it.x; },\n      cy: function(it) { return it.y; },\n      r:  function(it) { return it.r; }\n    }).style({\n      fill: function(it) { return that.colors(it.category); },\n      stroke: function(it) {\n        return d3.hsl(that.colors(it.category)).darker().toString();\n      }\n    });\n    this.names.attr({\n      x: function(it) { return it.x; },\n      y: function(it) { return it.y; },\n      dy: -5\n    }).style({\n      \"font-size\": 15,\n      \"font-weight\": \"900\",\n      fill: function(it) {\n        var hsl = d3.hsl(that.colors(it.category));\n        if(hsl.l > 0.65) return \"#000\"; else return \"#fff\";\n      }\n    }).text(function(it) { \n      return it.name; \n    });\n    this.categories.attr({\n      x: function(it) { return it.x; },\n      y: function(it) { return it.y; },\n      dy: 10,\n    }).style({\n      \"font-size\": 10,\n      opacity: 0.8,\n      fill: function(it) {\n        var hsl = d3.hsl(that.colors(it.category));\n        if(hsl.l > 0.65) return \"#000\"; else return \"#fff\";\n      }\n    }).text(function(it) { \n      return it.category; \n    });\n  }\n});","lines":91,"size":3198},"assets":[],"isType":false,"createdTime":1455989590930,"modifiedTime":1458279451314,"ownerName":"Kirby Wu","likes":0,"parent":null,"basetype":"5","visualencoding":["6"],"category":["1"]}